<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Selective Disclosure JWT (SD-JWT)</title>
<meta content="Daniel Fett" name="author">
<meta content="Kristina Yasuda" name="author">
<meta content="
       This document specifies conventions for creating JSON Web Token (JWT)
documents that support selective disclosure of JWT claim values. 
    " name="description">
<meta content="xml2rfc 2.40.1" name="generator">
<meta content="security" name="keyword">
<meta content="oauth2" name="keyword">
<meta content="draft-fett-selective-disclosure-jwt-00" name="ietf.draft">
<link href="./draft-fett-selective-disclosure-jwt-00.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">oauth-selective-disclosure-jwt</td>
<td class="right">June 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fett &amp; Yasuda</td>
<td class="center">Expires 3 December 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Web Authorization Protocol</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-fett-selective-disclosure-jwt-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-06-01" class="published">1 June 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-12-03">3 December 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Fett</div>
<div class="org">yes.com</div>
</div>
<div class="author">
      <div class="author-name">K. Yasuda</div>
<div class="org">Microsoft</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Selective Disclosure JWT (SD-JWT)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies conventions for creating JSON Web Token (JWT)
documents that support selective disclosure of JWT claim values.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 3 December 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-conventions-and-terminology" class="xref">Conventions and Terminology</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-terms-and-definitions" class="xref">Terms and Definitions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-selective-disclosure-jwt-sd" class="xref">Selective Disclosure JWT (SD-JWT)</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-sd-jwt-salt-value-container" class="xref">SD-JWT Salt/Value Container (SVC)</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-sd-jwt-release-sd-jwt-r" class="xref">SD-JWT Release (SD-JWT-R)</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-holder-binding" class="xref">Holder binding</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-issuer" class="xref">issuer</a><a href="#section-toc.1-1.2.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.6">
                <p id="section-toc.1-1.2.2.6.1"><a href="#section-2.6" class="xref">2.6</a>.  <a href="#name-holder" class="xref">holder</a><a href="#section-toc.1-1.2.2.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.7">
                <p id="section-toc.1-1.2.2.7.1"><a href="#section-2.7" class="xref">2.7</a>.  <a href="#name-verifier" class="xref">verifier</a><a href="#section-toc.1-1.2.2.7.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-concept" class="xref">Concept</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-creating-a-sd-jwt" class="xref">Creating a SD-JWT</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-creating-a-release" class="xref">Creating a Release</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-verifying-a-release" class="xref">Verifying a Release</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-data-formats" class="xref">Data Formats</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-sd-jwt-format" class="xref">SD-JWT Format</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-payload" class="xref">Payload</a><a href="#section-toc.1-1.4.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-example-1-flat-sd-jwt" class="xref">Example 1 - Flat SD-JWT</a><a href="#section-toc.1-1.4.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-example-2-structured-sd-jwt" class="xref">Example 2 - Structured SD-JWT</a><a href="#section-toc.1-1.4.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-sd-jwt-salt-value-container-" class="xref">SD-JWT Salt/Value Container (SVC)</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-payload-2" class="xref">Payload</a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-example-1-svc-for-a-flat-sd" class="xref">Example 1 - SVC for a Flat SD-JWT</a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-example-2-svc-for-a-structu" class="xref">Example 2 - SVC for a Structured SD-JWT</a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-sd-jwt-and-svc-combined-for" class="xref">SD-JWT and SVC Combined Format</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-sd-jwt-r-format" class="xref">SD-JWT-R Format</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-presentation-format" class="xref">Presentation Format</a><a href="#section-toc.1-1.4.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-verification" class="xref">Verification</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-holder-binding-2" class="xref">Holder Binding</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-claim-names" class="xref">Claim Names</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-additional-examples" class="xref">Additional Examples</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-example-3-complex-structure" class="xref">Example 3 - Complex Structured SD-JWT</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-document-history" class="xref">Document History</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The JSON-based claims in a signed JSON Web Token (JWT) <span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span> document
are secured against modification using JSON Web Signature (JWS) <span>[<a href="#RFC7515" class="xref">RFC7515</a>]</span> digital signatures.
A consumer of a signed JWT document that has checked the document's signature can safely assume
that the contents of the document have not been modified.  However, anyone
receiving an unencrypted JWT can read all of the claims and likewise,
anyone with the decryption key receiving an encrypted JWT
can also read all of the claims.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This document describes a format for JWT that supports selective
disclosure (SD-JWT) which would enable sharing only subset of the claims included in
the original JWT instead of releasing all the claims to every Verifeir.
This document also defines an optional format for signatures called releases (SD-JWT-R).<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">One of the common use cases of a signed JWT is representing a user's identity created by an issuer.
In such use case, there has been no privacy-related concerns with existing JOSE signature schemes,
because when a signed JWT is one-time use, it contains only JWT claims that the user has consented
in real time to release to the Verifier. However, when a signed JWT is intended to be multi-use,
the ability to selectively disclose a subset of the claims depending on the verifier becomes crucial
to ensure minimum disclosure and prevent Verifier from obtaining claims irrelevant for the use case at hand.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">One example of such multi-use JWT is a verifiable credential, or a tamper-evident credential with
a cryptographically verifiable authorship that contains claims about a subject.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">SD-JWT defined in this document enables such selective disclosure of claims.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">In a common use case, such JWT includes claims describing natural persons,
the mechanisms defined in this document can be used for any other use cases as well.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">It is also important to note that this format enables selective disclosure of claims, but
in itself it does not achieve unlinkability of the subject of a JWS document.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">Note: so far agreed to define holder binding (user's public key contained inside an SD-JWS) as an option.
It is not mandatory since holder binding is use case specific and orthogonal to the general mechanism of
selective disclosure we are trying to define here.<a href="#section-1-8" class="pilcrow">¶</a></p>
<div id="conventions-and-terminology">
<section id="section-1.1">
        <h3 id="name-conventions-and-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-conventions-and-terminology" class="section-name selfRef">Conventions and Terminology</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2"><strong>base64url</strong> denotes the URL-safe base64 encoding without padding defined in
Section 2 of <span>[<a href="#RFC7515" class="xref">RFC7515</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="terms-and-definitions">
<section id="section-2">
      <h2 id="name-terms-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms-and-definitions" class="section-name selfRef">Terms and Definitions</a>
      </h2>
<div id="selective-disclosure-jwt-sd-jwt">
<section id="section-2.1">
        <h3 id="name-selective-disclosure-jwt-sd">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-selective-disclosure-jwt-sd" class="section-name selfRef">Selective Disclosure JWT (SD-JWT)</a>
        </h3>
<p id="section-2.1-1">A JWT <span>[<a href="#RFC7515" class="xref">RFC7515</a>]</span> created by the issuer, which can be signed as a JWS <span>[<a href="#RFC7515" class="xref">RFC7515</a>]</span>,
   that supports selective disclosure as defined in this document.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-jwt-salt-value-container-svc">
<section id="section-2.2">
        <h3 id="name-sd-jwt-salt-value-container">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-sd-jwt-salt-value-container" class="section-name selfRef">SD-JWT Salt/Value Container (SVC)</a>
        </h3>
<p id="section-2.2-1">A JSON object created by the issuer that contains mapping between
   raw claim values that contained in the SD-JWT and the salts for each claim value.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-jwt-release-sd-jwt-r">
<section id="section-2.3">
        <h3 id="name-sd-jwt-release-sd-jwt-r">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-sd-jwt-release-sd-jwt-r" class="section-name selfRef">SD-JWT Release (SD-JWT-R)</a>
        </h3>
<p id="section-2.3-1">A JWT created by the holder that contains a subset of the claim values of an SD-JWT in a verifiable way.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder-binding">
<section id="section-2.4">
        <h3 id="name-holder-binding">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-holder-binding" class="section-name selfRef">Holder binding</a>
        </h3>
<p id="section-2.4-1">Ability of the holder to prove legitimate possession of SD-JWT by proving
   control over the same private key during the issuance and presentation. SD-JWT signed by the issuer contains
   a public key or a reference to a public key that matches to the private key controlled by the holder.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issuer">
<section id="section-2.5">
        <h3 id="name-issuer">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-issuer" class="section-name selfRef">issuer</a>
        </h3>
<p id="section-2.5-1">An entity that creates SD-JWTs (2.1).<a href="#section-2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder">
<section id="section-2.6">
        <h3 id="name-holder">
<a href="#section-2.6" class="section-number selfRef">2.6. </a><a href="#name-holder" class="section-name selfRef">holder</a>
        </h3>
<p id="section-2.6-1">An entity that received SD-JWTs (2.1) from the issuer and has control over them.<a href="#section-2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verifier">
<section id="section-2.7">
        <h3 id="name-verifier">
<a href="#section-2.7" class="section-number selfRef">2.7. </a><a href="#name-verifier" class="section-name selfRef">verifier</a>
        </h3>
<p id="section-2.7-1">An entity that entity that requests, checks and extracts the claims from SSD-JWT-R (2.2)<a href="#section-2.7-1" class="pilcrow">¶</a></p>
<p id="section-2.7-2">Note: discuss if we want to include Client, Authorization Server for the purpose of
ensuring continuity and separating the entity from the actor.<a href="#section-2.7-2" class="pilcrow">¶</a></p>
<p id="section-2.7-3">Note: no need to define <code>proof</code> anymore?<a href="#section-2.7-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="concept">
<section id="section-3">
      <h2 id="name-concept">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-concept" class="section-name selfRef">Concept</a>
      </h2>
<p id="section-3-1">In the following section, the concepts of SD-JWTs and releases are described at a
conceptual level.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="creating-a-sd-jwt">
<section id="section-3.1">
        <h3 id="name-creating-a-sd-jwt">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-creating-a-sd-jwt" class="section-name selfRef">Creating a SD-JWT</a>
        </h3>
<p id="section-3.1-1">An SD-JWS, at its core, is a digitally signed document containing hashes over the claim values with unique salts,
optionally the holder's public key and other metadata. It is digitally signed using the issuer's private key.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.1-2">
<pre>SD-JWT-DOC = (METADATA, HOLDER-PUBLIC-KEY?, HS-CLAIMS)
SD-JWT = SD-JWT-DOC | SIG(SD-JWT-DOC, ISSUER-PRIV-KEY)
</pre><a href="#section-3.1-2" class="pilcrow">¶</a>
</div>
<p id="section-3.1-3"><code>HS-CLAIMS</code> is usually a simple object with claim names mapped to hashes over the claim values with unique salts:<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.1-4">
<pre>HS-CLAIMS = (
    CLAIM-NAME: HASH(SALT | CLAIM-VALUE)
)*
</pre><a href="#section-3.1-4" class="pilcrow">¶</a>
</div>
<p id="section-3.1-5"><code>HS-CLAIMS</code> can also be nested deeper to capture more complex objects, as will be shown later.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">The SD-JWT is sent from the issuer to the holder, together with the mapping of the plain-text claim values, the salt values, and potentially some other information.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="creating-a-release">
<section id="section-3.2">
        <h3 id="name-creating-a-release">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-creating-a-release" class="section-name selfRef">Creating a Release</a>
        </h3>
<p id="section-3.2-1">To SD-JWT-R to a verifier a subset of SD-JWT claim values, a holder creates a JWS such as the
following:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.2-2">
<pre>RELEASE-DOC = (METADATA, SALTS)
RELEASE = RELEASE-DOC | SIG(RELEASE-DOC, HOLDER-PRIV-KEY)?
</pre><a href="#section-3.2-2" class="pilcrow">¶</a>
</div>
<p id="section-3.2-3">Note that the signature over <code>RELEASE-DOC</code> is optional and required if, and only
if, holder binding is desired.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4"><code>SALTS</code> is usually a simple object with claim names mapped to values and salts:<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.2-5">
<pre>SALTS = (
    CLAIM-NAME: (DISCLOSED-SALT, DISCLOSED-VALUE)
)
</pre><a href="#section-3.2-5" class="pilcrow">¶</a>
</div>
<p id="section-3.2-6">Just as <code>HS-CLAIMS</code>, <code>SALTS</code> can be more complex as well.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">The SD-JWT-R is sent together with the SD-JWT from the holder to the
verifier.<a href="#section-3.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verifying-a-release">
<section id="section-3.3">
        <h3 id="name-verifying-a-release">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-verifying-a-release" class="section-name selfRef">Verifying a Release</a>
        </h3>
<p id="section-3.3-1">A verifier checks that<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-3.3-2.1">
            <p id="section-3.3-2.1.1">if holder binding is desired, the <code>RELEASE</code> was signed by
the private key belonging to the public key contained in <code>SD-JWT-DOC</code>.<a href="#section-3.3-2.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-3.3-2.2">
            <p id="section-3.3-2.2.1">for each claim in <code>RELEASE</code>, the hash <code>HASH(DISCLOSED-SALT | DISCLOSED-VALUE)</code>
matches the hash under the given claim name in the SD-JWT.<a href="#section-3.3-2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-3.3-3">The detailed algorithm is described below.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="data-formats">
<section id="section-4">
      <h2 id="name-data-formats">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-data-formats" class="section-name selfRef">Data Formats</a>
      </h2>
<p id="section-4-1">This section defines data formats of SD-JWT that contains hashes of the salted claim values
and SD-JWT Salt/Value Container that contains the mapping of the plain-text claim values
and the salt values.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="sd-jwt-format">
<section id="section-4.1">
        <h3 id="name-sd-jwt-format">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-sd-jwt-format" class="section-name selfRef">SD-JWT Format</a>
        </h3>
<p id="section-4.1-1">An SD-JWT is a JWT that is optionally signed using the issuer's private key
and contains following claims as payload.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<div id="payload">
<section id="section-4.1.1">
          <h4 id="name-payload">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-payload" class="section-name selfRef">Payload</a>
          </h4>
<p id="section-4.1.1-1">Payload of SD-JWT can consist of the following claims.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<div id="selectively-disclosable-claims">
<section id="section-4.1.1.1">
            <h5 id="name-selectively-disclosable-cla">
<a href="#section-4.1.1.1" class="section-number selfRef">4.1.1.1. </a><a href="#name-selectively-disclosable-cla" class="section-name selfRef">Selectively Disclosable Claims</a>
            </h5>
<p id="section-4.1.1.1-1">SD-JWT MUST include hashes of the salted claim values that are included by the issuer
under the property <code>_sd</code>.<a href="#section-4.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1.1-2">Issuer MUST choose a unique salt value for each claim value. Each salt value MUST
contain at least 128 bits of pseudorandom data, making it hard for an attacker
to guess. The salt value MUST then be encoded as a string. It is
RECOMMENDED to BASE64URL encode at least 16 pseudorandom bytes.<a href="#section-4.1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1.1-3">Issuer MUST build the hashes by hashing over a string that is formed by JSON-encoding an ordered
array containing the salt and the claim value, e.g.: <code>["6qMQvRL5haj","Peter"]</code>.
The hash value is then BASE64URL-encoded. Note that the precise JSON encoding can vary,
and therefore, the JSON encodings MUST be sent to the holder along with the SD-JWT,
as described below.<a href="#section-4.1.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1.1-4"><code>_sd</code> object can be a 'flat' object, directly containing all claim names and
hashed claim values without any deeper structure. <code>_sd</code> object can also be a
'structured' object, where some claims and their respective hashes are contained
in places deeper in the structure. It is up to the issuer to decide how to
structure the representation such that it is suitable for the use case. Examples
1 and 2 below show this using the <span>[<a href="#OIDC" class="xref">OIDC</a>]</span> <code>address</code> claim, a structured claim.
Appendix 1 shows a more complex example using claims from eKYC (todo:
reference).<a href="#section-4.1.1.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1.1.1-5">Note that it is up to the issuer's discretion whether to turn the same payload of SD-JWT
into 'flat' or 'structured' <code>_sd</code> SD-JWT object.<a href="#section-4.1.1.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder-public-key">
<section id="section-4.1.1.2">
            <h5 id="name-holder-public-key">
<a href="#section-4.1.1.2" class="section-number selfRef">4.1.1.2. </a><a href="#name-holder-public-key" class="section-name selfRef">Holder Public Key</a>
            </h5>
<p id="section-4.1.1.2-1">If the issuer wants to enable holder binding, it includes a public key
associated with the holder, or a reference thereto.<a href="#section-4.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1.2-2">It is out of the scope of this document to describe how the holder key pair is
established. For example, the holder MAY provide a key pair to the issuer,
the issuer MAY create the key pair for the holder, or
holder and issuer MAY use pre-established key material.<a href="#section-4.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1.2-3">Note: need to define how holder public key is included, right now examples are using <code>sub_jwk</code> I think.<a href="#section-4.1.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-claims">
<section id="section-4.1.1.3">
            <h5 id="name-other-claims">
<a href="#section-4.1.1.3" class="section-number selfRef">4.1.1.3. </a><a href="#name-other-claims" class="section-name selfRef">Other Claims</a>
            </h5>
<p id="section-4.1.1.3-1">The SD-JWT payload typically contains other JWT claims, such as <code>iss</code>, <code>iat</code>, etc.<a href="#section-4.1.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="example-1-flat-sd-jwt">
<section id="section-4.1.2">
          <h4 id="name-example-1-flat-sd-jwt">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-example-1-flat-sd-jwt" class="section-name selfRef">Example 1 - Flat SD-JWT</a>
          </h4>
<p id="section-4.1.2-1">This example shows a simple SD-JWT containing user claims. The issuer here
decided to use a completely flat structure, i.e., the <code>address</code> claim can only
be disclosed in full.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2-2">In this example, these claims are the payload of the SD-JWT:<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
<div id="example-simple-sd-jwt-claims">
<div id="section-4.1.2-3">
<pre class="sourcecode lang-json">{
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "given_name": "John",
  "family_name": "Doe",
  "email": "johndoe@example.com",
  "phone_number": "+1-202-555-0101",
  "address": {
    "street_address": "123 Main St",
    "locality": "Anytown",
    "region": "Anystate",
    "country": "US"
  },
  "birthdate": "1940-01-01"
}
</pre><a href="#section-4.1.2-3" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.1.2-4">The following shows the resulting SD-JWT payload:<a href="#section-4.1.2-4" class="pilcrow">¶</a></p>
<div id="example-simple-sd-jwt-payload">
<div id="section-4.1.2-5">
<pre class="sourcecode lang-json">{
  "iss": "https://example.com/issuer",
  "sub_jwk": {
    "kty": "RSA",
    "n": "tX2xcWvjAkLl5uN5gaTDeDVFpevOcNjjPM-ryCWKjbUoh5nyDEaFpqvv3WDeGwWeBjMXed4htovR-3fJyW5S0d_tUWcdEmSGeqrcUnb8C71VU_pCQYD6MH9YjRCmt3RjnuFeHZiJymbgT8h7cVL0ivTX7qL9ftMCN5JRoNYF5DMGBXlvCgLCGIbdK7-tkPyhdeGgsFJa_aM4ft5SRSsqzrP76vyv55VxPMmDoGJrAJn38HlkqoIEXhjjMh0EACuC8HXM9XwovtOqeXAO4GgJwKEwWgypa5QwqReHoQIcUYqYTJCwikrzkhvtIlqIdkSRKUSX-A9gjtQ_E-gyt93NGQ",
    "e": "AQAB"
  },
  "iat": 1516239022,
  "exp": 1516247022,
  "_sd": {
    "sub": "LbnhkOr5oS7KjeUrxezAu8TG0CpWz0jSixy6tffuo04",
    "given_name": "fUMdn88aaoyKTHrvZd6AuLmPraGhPJ0zF5r_JhxCVZs",
    "family_name": "9h5vgv6TpFV6GmnPtugiMLl5tHetHeb5X_2cKHjN7cw",
    "email": "fPZ92dtYMCN2Nb-2ac_zSH19p4yakUXrZl_-wSgaazA",
    "phone_number": "QdSffzNzzd0n60MsSmuiKj6Y6Enk2b-BS-KtEePde5M",
    "address": "JFu99NUXPq55f6DFBZ22rMkxMNHayCrfPG0FDsqbyDs",
    "birthdate": "Ia1Tc6_Xnt5CJc2LtKcu6Wvqr42glBGGcjGOye8Zf3U"
  }
}
</pre><a href="#section-4.1.2-5" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.1.2-6">The SD-JWT is then signed by the issuer to create a document like the following:<a href="#section-4.1.2-6" class="pilcrow">¶</a></p>
<div id="example-simple-sd-jwt-encoded">
<div class="artwork art-text alignLeft" id="section-4.1.2-7">
<pre>eyJhbGciOiAiUlMyNTYifQ.eyJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1ZXI
iLCAic3ViX2p3ayI6IHsia3R5IjogIlJTQSIsICJuIjogInRYMnhjV3ZqQWtMbDV1TjVnY
VREZURWRnBldk9jTmpqUE0tcnlDV0tqYlVvaDVueURFYUZwcXZ2M1dEZUd3V2VCak1YZWQ
0aHRvdlItM2ZKeVc1UzBkX3RVV2NkRW1TR2VxcmNVbmI4QzcxVlVfcENRWUQ2TUg5WWpSQ
210M1JqbnVGZUhaaUp5bWJnVDhoN2NWTDBpdlRYN3FMOWZ0TUNONUpSb05ZRjVETUdCWGx
2Q2dMQ0dJYmRLNy10a1B5aGRlR2dzRkphX2FNNGZ0NVNSU3NxenJQNzZ2eXY1NVZ4UE1tR
G9HSnJBSm4zOEhsa3FvSUVYaGpqTWgwRUFDdUM4SFhNOVh3b3Z0T3FlWEFPNEdnSndLRXd
XZ3lwYTVRd3FSZUhvUUljVVlxWVRKQ3dpa3J6a2h2dElscUlka1NSS1VTWC1BOWdqdFFfR
S1neXQ5M05HUSIsICJlIjogIkFRQUIifSwgImlhdCI6IDE1MTYyMzkwMjIsICJleHAiOiA
xNTE2MjQ3MDIyLCAiX3NkIjogeyJzdWIiOiAiTGJuaGtPcjVvUzdLamVVcnhlekF1OFRHM
ENwV3owalNpeHk2dGZmdW8wNCIsICJnaXZlbl9uYW1lIjogImZVTWRuODhhYW95S1RIcnZ
aZDZBdUxtUHJhR2hQSjB6RjVyX0poeENWWnMiLCAiZmFtaWx5X25hbWUiOiAiOWg1dmd2N
lRwRlY2R21uUHR1Z2lNTGw1dEhldEhlYjVYXzJjS0hqTjdjdyIsICJlbWFpbCI6ICJmUFo
5MmR0WU1DTjJOYi0yYWNfelNIMTlwNHlha1VYclpsXy13U2dhYXpBIiwgInBob25lX251b
WJlciI6ICJRZFNmZnpOenpkMG42ME1zU211aUtqNlk2RW5rMmItQlMtS3RFZVBkZTVNIiw
gImFkZHJlc3MiOiAiSkZ1OTlOVVhQcTU1ZjZERkJaMjJyTWt4TU5IYXlDcmZQRzBGRHNxY
nlEcyIsICJiaXJ0aGRhdGUiOiAiSWExVGM2X1hudDVDSmMyTHRLY3U2V3ZxcjQyZ2xCR0d
jakdPeWU4WmYzVSJ9fQ.IS4oc1f3XuxhNSnecIXbpT-3ZVwgbjpMSfpyqhFUEE2T_ij3uW
Bqb1_zn0nLvIvXDs8rn6l10ilHwCgpMaPmYAE8_nfZtNwvfAFnwBFjzdrJOJWhZ5dp6UJe
VULOZvjsCw1EpyRbBgIyZ9QiLzRJ_5JS1C1AelDDyXxI3FZYYc3-1MqQMnaXR7AWOct698
t-LsookAA_LxXx-RYKG1wygEp9e9BzgCxQugsdGejMPTZyfaQewGrJalQm8bYvSXKcJ1DG
-T297kFEV_VTaeLCOoan1DS1DtaH48Q13yUUmdwil8jqjpVgf_lU0A7dO4AYmojgvdng-c
MLWSp5YtL_Gw.ewogICAgIl9zZCI6IHsKICAgICAgICAic3ViIjogIltcImVsdVY1T2czZ
1NOSUk4RVluc3hBX0FcIiwgXCI2YzVjMGE0OS1iNTg5LTQzMWQtYmFlNy0yMTkxMjJhOWV
jMmNcIl0iLAogICAgICAgICJnaXZlbl9uYW1lIjogIltcIjZJajd0TS1hNWlWUEdib1M1d
G12VkFcIiwgXCJKb2huXCJdIiwKICAgICAgICAiZmFtaWx5X25hbWUiOiAiW1wiZUk4Wld
tOVFuS1BwTlBlTmVuSGRoUVwiLCBcIkRvZVwiXSIsCiAgICAgICAgImVtYWlsIjogIltcI
lFnX082NHpxQXhlNDEyYTEwOGlyb0FcIiwgXCJqb2huZG9lQGV4YW1wbGUuY29tXCJdIiw
KICAgICAgICAicGhvbmVfbnVtYmVyIjogIltcIkFKeC0wOTVWUHJwVHRONFFNT3FST0FcI
iwgXCIrMS0yMDItNTU1LTAxMDFcIl0iLAogICAgICAgICJhZGRyZXNzIjogIltcIlBjMzN
KTTJMY2hjVV9sSGdndl91ZlFcIiwge1wic3RyZWV0X2FkZHJlc3NcIjogXCIxMjMgTWFpb
iBTdFwiLCBcImxvY2FsaXR5XCI6IFwiQW55dG93blwiLCBcInJlZ2lvblwiOiBcIkFueXN
0YXRlXCIsIFwiY291bnRyeVwiOiBcIlVTXCJ9XSIsCiAgICAgICAgImJpcnRoZGF0ZSI6I
CJbXCJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBXCIsIFwiMTk0MC0wMS0wMVwiXSIKICAgIH0
KfQ
</pre><a href="#section-4.1.2-7" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.1.2-8">(Line breaks for presentation only.)<a href="#section-4.1.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-2-structured-sd-jwt">
<section id="section-4.1.3">
          <h4 id="name-example-2-structured-sd-jwt">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-example-2-structured-sd-jwt" class="section-name selfRef">Example 2 - Structured SD-JWT</a>
          </h4>
<p id="section-4.1.3-1">In this example, the issuer decided to create a structured object for the
hashes. This allows for the release of individual members of the address claim
separately.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<p id="section-4.1.3-2">The user claims are as in Example 1 above. The resulting SD-JWT payload is as follows:<a href="#section-4.1.3-2" class="pilcrow">¶</a></p>
<div id="example-simple_structured-sd-jwt-payload">
<div id="section-4.1.3-3">
<pre class="sourcecode lang-json">{
  "iss": "https://example.com/issuer",
  "sub_jwk": {
    "kty": "RSA",
    "n": "vxqABmnBwkDVrTK99gD70GFSXfVsTZdcX_CCjYWU6wE6AuPTFDSiFtP4tdIo_BY4fnO7E_-JbyBv-xeot79ZiF-4yKD9jPs0n79205quVdO_GKWAZD0fQTyxFTm7qaBelPtuHahiyiz1Q0W5HJPFiFOqAQAd7le7ZO3y-3gFrWATwD6FNYE_dLhna7Kd6aNyIN9lFUrKdJh__jOEv1hLbdojL8bnX5LKcYltJ6hfW6vQHuUs2cghvwqGaGWy8fn1ilWhDF8uED-FkruyfaXoCFhFL8MQcZx1Sim_Tpmg18hoQXnFazhZUTnCtlWFTBQKyjbZ0S6GqS8hYChE-taZ5Q",
    "e": "AQAB"
  },
  "iat": 1516239022,
  "exp": 1516247022,
  "_sd": {
    "sub": "LbnhkOr5oS7KjeUrxezAu8TG0CpWz0jSixy6tffuo04",
    "given_name": "fUMdn88aaoyKTHrvZd6AuLmPraGhPJ0zF5r_JhxCVZs",
    "family_name": "9h5vgv6TpFV6GmnPtugiMLl5tHetHeb5X_2cKHjN7cw",
    "email": "fPZ92dtYMCN2Nb-2ac_zSH19p4yakUXrZl_-wSgaazA",
    "phone_number": "QdSffzNzzd0n60MsSmuiKj6Y6Enk2b-BS-KtEePde5M",
    "address": {
      "street_address": "4FpVpd563Owh9G3HkGNTN9FiSHT0e6y9-Abk_IuG86M",
      "locality": "Kr0BpdZz6yU8HMhjyYHh1EEgJxeUyLIpJEi47iXhp8Y",
      "region": "QXxWKvcV4Bc9t3M7MF43W5vdCnWtA9hsYX8ycWLu1LQ",
      "country": "3itkoMzrDrinn7T0MUbAmrMm1ya1LzbBgif_50WoFOs"
    },
    "birthdate": "fvLCnDm3r4VSYcBF3pIlXP4ulEoHuHOfG_YmFZEuxpQ"
  }
}
</pre><a href="#section-4.1.3-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
<div id="sd-jwt-salt-value-container-svc-1">
<section id="section-4.2">
        <h3 id="name-sd-jwt-salt-value-container-">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-sd-jwt-salt-value-container-" class="section-name selfRef">SD-JWT Salt/Value Container (SVC)</a>
        </h3>
<p id="section-4.2-1">Besides the SD-JWT itself, the holder needs to learn the raw claim values that
are contained in the SD-JWT, along with the precise input to the hash
calculation, and the salts. There MAY be other information the issuer needs to
communicate to the holder, such as a private key key if the issuer selected the
holder key pair.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div id="payload-1">
<section id="section-4.2.1">
          <h4 id="name-payload-2">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-payload-2" class="section-name selfRef">Payload</a>
          </h4>
<p id="section-4.2.1-1">A SD-JWT Salt/Value Container (SVC) is a JSON object containing at least the
top-level property <code>_sd</code>. Its structure mirrors the one of <code>_sd</code> in
the SD-JWT, but the values are the inputs to the hash calculations the issuer
used, as strings.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">The SVC MAY contain further properties, for example, to transport the holder
private key.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-1-svc-for-a-flat-sd-jwt">
<section id="section-4.2.2">
          <h4 id="name-example-1-svc-for-a-flat-sd">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-example-1-svc-for-a-flat-sd" class="section-name selfRef">Example 1 - SVC for a Flat SD-JWT</a>
          </h4>
<p id="section-4.2.2-1">The SVC for Example 1 is as follows:<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<div id="example-simple-svc-payload">
<div id="section-4.2.2-2">
<pre class="sourcecode lang-json">{
  "_sd": {
    "sub": "[\"eluV5Og3gSNII8EYnsxA_A\", \"6c5c0a49-b589-431d-bae7-219122a9ec2c\"]",
    "given_name": "[\"6Ij7tM-a5iVPGboS5tmvVA\", \"John\"]",
    "family_name": "[\"eI8ZWm9QnKPpNPeNenHdhQ\", \"Doe\"]",
    "email": "[\"Qg_O64zqAxe412a108iroA\", \"johndoe@example.com\"]",
    "phone_number": "[\"AJx-095VPrpTtN4QMOqROA\", \"+1-202-555-0101\"]",
    "address": "[\"Pc33JM2LchcU_lHggv_ufQ\", {\"street_address\": \"123 Main St\", \"locality\": \"Anytown\", \"region\": \"Anystate\", \"country\": \"US\"}]",
    "birthdate": "[\"G02NSrQfjFXQ7Io09syajA\", \"1940-01-01\"]"
  }
}
</pre><a href="#section-4.2.2-2" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="example-2-svc-for-a-structured-sd-jwt">
<section id="section-4.2.3">
          <h4 id="name-example-2-svc-for-a-structu">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-example-2-svc-for-a-structu" class="section-name selfRef">Example 2 - SVC for a Structured SD-JWT</a>
          </h4>
<p id="section-4.2.3-1">The SVC for Example 2 is as follows:<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<div id="example-simple_structured-svc-payload">
<div id="section-4.2.3-2">
<pre class="sourcecode lang-json">{
  "_sd": {
    "sub": "[\"eluV5Og3gSNII8EYnsxA_A\", \"6c5c0a49-b589-431d-bae7-219122a9ec2c\"]",
    "given_name": "[\"6Ij7tM-a5iVPGboS5tmvVA\", \"John\"]",
    "family_name": "[\"eI8ZWm9QnKPpNPeNenHdhQ\", \"Doe\"]",
    "email": "[\"Qg_O64zqAxe412a108iroA\", \"johndoe@example.com\"]",
    "phone_number": "[\"AJx-095VPrpTtN4QMOqROA\", \"+1-202-555-0101\"]",
    "address": {
      "street_address": "[\"Pc33JM2LchcU_lHggv_ufQ\", \"123 Main St\"]",
      "locality": "[\"G02NSrQfjFXQ7Io09syajA\", \"Anytown\"]",
      "region": "[\"lklxF5jMYlGTPUovMNIvCA\", \"Anystate\"]",
      "country": "[\"nPuoQnkRFq3BIeAm7AnXFA\", \"US\"]"
    },
    "birthdate": "[\"5bPs1IquZNa0hkaFzzzZNw\", \"1940-01-01\"]"
  }
}
</pre><a href="#section-4.2.3-2" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
<div id="sd-jwt-and-svc-combined-format">
<section id="section-4.3">
        <h3 id="name-sd-jwt-and-svc-combined-for">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-sd-jwt-and-svc-combined-for" class="section-name selfRef">SD-JWT and SVC Combined Format</a>
        </h3>
<p id="section-4.3-1">For transporting the SVC together with the SD-JWT from the issuer to the holder,
the SVC is base64ur-encoded and appended to the SD-JWT using <code>.</code> as the
separator. For Example 1, the combined format looks as follows:<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<div id="example-simple-combined-encoded">
<div class="artwork art-text alignLeft" id="section-4.3-2">
<pre>eyJhbGciOiAiUlMyNTYifQ.eyJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1ZXI
iLCAic3ViX2p3ayI6IHsia3R5IjogIlJTQSIsICJuIjogInRYMnhjV3ZqQWtMbDV1TjVnY
VREZURWRnBldk9jTmpqUE0tcnlDV0tqYlVvaDVueURFYUZwcXZ2M1dEZUd3V2VCak1YZWQ
0aHRvdlItM2ZKeVc1UzBkX3RVV2NkRW1TR2VxcmNVbmI4QzcxVlVfcENRWUQ2TUg5WWpSQ
210M1JqbnVGZUhaaUp5bWJnVDhoN2NWTDBpdlRYN3FMOWZ0TUNONUpSb05ZRjVETUdCWGx
2Q2dMQ0dJYmRLNy10a1B5aGRlR2dzRkphX2FNNGZ0NVNSU3NxenJQNzZ2eXY1NVZ4UE1tR
G9HSnJBSm4zOEhsa3FvSUVYaGpqTWgwRUFDdUM4SFhNOVh3b3Z0T3FlWEFPNEdnSndLRXd
XZ3lwYTVRd3FSZUhvUUljVVlxWVRKQ3dpa3J6a2h2dElscUlka1NSS1VTWC1BOWdqdFFfR
S1neXQ5M05HUSIsICJlIjogIkFRQUIifSwgImlhdCI6IDE1MTYyMzkwMjIsICJleHAiOiA
xNTE2MjQ3MDIyLCAiX3NkIjogeyJzdWIiOiAiTGJuaGtPcjVvUzdLamVVcnhlekF1OFRHM
ENwV3owalNpeHk2dGZmdW8wNCIsICJnaXZlbl9uYW1lIjogImZVTWRuODhhYW95S1RIcnZ
aZDZBdUxtUHJhR2hQSjB6RjVyX0poeENWWnMiLCAiZmFtaWx5X25hbWUiOiAiOWg1dmd2N
lRwRlY2R21uUHR1Z2lNTGw1dEhldEhlYjVYXzJjS0hqTjdjdyIsICJlbWFpbCI6ICJmUFo
5MmR0WU1DTjJOYi0yYWNfelNIMTlwNHlha1VYclpsXy13U2dhYXpBIiwgInBob25lX251b
WJlciI6ICJRZFNmZnpOenpkMG42ME1zU211aUtqNlk2RW5rMmItQlMtS3RFZVBkZTVNIiw
gImFkZHJlc3MiOiAiSkZ1OTlOVVhQcTU1ZjZERkJaMjJyTWt4TU5IYXlDcmZQRzBGRHNxY
nlEcyIsICJiaXJ0aGRhdGUiOiAiSWExVGM2X1hudDVDSmMyTHRLY3U2V3ZxcjQyZ2xCR0d
jakdPeWU4WmYzVSJ9fQ.IS4oc1f3XuxhNSnecIXbpT-3ZVwgbjpMSfpyqhFUEE2T_ij3uW
Bqb1_zn0nLvIvXDs8rn6l10ilHwCgpMaPmYAE8_nfZtNwvfAFnwBFjzdrJOJWhZ5dp6UJe
VULOZvjsCw1EpyRbBgIyZ9QiLzRJ_5JS1C1AelDDyXxI3FZYYc3-1MqQMnaXR7AWOct698
t-LsookAA_LxXx-RYKG1wygEp9e9BzgCxQugsdGejMPTZyfaQewGrJalQm8bYvSXKcJ1DG
-T297kFEV_VTaeLCOoan1DS1DtaH48Q13yUUmdwil8jqjpVgf_lU0A7dO4AYmojgvdng-c
MLWSp5YtL_Gw.eyJhbGciOiAiUlMyNTYifQ.eyJub25jZSI6ICIyR0xDNDJzS1F2ZUNmR2
ZyeU5STjl3IiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3ZlcmlmaWVyIiwgIl9z
ZCI6IHsiZ2l2ZW5fbmFtZSI6ICJbXCI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBXCIsIFwiSm
9oblwiXSIsICJmYW1pbHlfbmFtZSI6ICJbXCJlSThaV205UW5LUHBOUGVOZW5IZGhRXCIs
IFwiRG9lXCJdIiwgImFkZHJlc3MiOiAiW1wiUGMzM0pNMkxjaGNVX2xIZ2d2X3VmUVwiLC
B7XCJzdHJlZXRfYWRkcmVzc1wiOiBcIjEyMyBNYWluIFN0XCIsIFwibG9jYWxpdHlcIjog
XCJBbnl0b3duXCIsIFwicmVnaW9uXCI6IFwiQW55c3RhdGVcIiwgXCJjb3VudHJ5XCI6IF
wiVVNcIn1dIn19.Z6l-sUfifRth6djDqvHng4Zm1TNkKGiQqC5P_5Nn0pSo5dMaClpheNc
NAPiPSf39A0jB8HBFceUQ_dmfTxi1U4NGFxbp-gTB00rPCY_RzCR3J-jgGmilYGLt4g2D6
BV1YuLmFLBgT_IW6GR5mq_RJYK6AANYrVbVPmBbMTfrYT9SAsDkKKWXWz4i0gScLhmz4yi
7FoNsvGtgb7WMtlHN86eJDtuayGHr8aCr95EAaUnuMbcT_WzGc_ifhzDBLJ4U0MVNlfiyk
9Fd8OgnwC11cE3QE3kKDUeQcNAAo81K_sCt-_AwvhMzSj1OK81L4frekUkfomzrCGbdVSC
bXLCfEg
</pre><a href="#section-4.3-2" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.3-3">(Line breaks for presentation only.)<a href="#section-4.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-jwt-r-format">
<section id="section-4.4">
        <h3 id="name-sd-jwt-r-format">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-sd-jwt-r-format" class="section-name selfRef">SD-JWT-R Format</a>
        </h3>
<p id="section-4.4-1">The following shows the contents of an SD-JWT-R for Example 1:<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div id="example-simple-release-payload">
<div id="section-4.4-2">
<pre class="sourcecode lang-json">{
  "nonce": "2GLC42sKQveCfGfryNRN9w",
  "aud": "https://example.com/verifier",
  "_sd": {
    "given_name": "[\"6Ij7tM-a5iVPGboS5tmvVA\", \"John\"]",
    "family_name": "[\"eI8ZWm9QnKPpNPeNenHdhQ\", \"Doe\"]",
    "address": "[\"Pc33JM2LchcU_lHggv_ufQ\", {\"street_address\": \"123 Main St\", \"locality\": \"Anytown\", \"region\": \"Anystate\", \"country\": \"US\"}]"
  }
}
</pre><a href="#section-4.4-2" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.4-3">For each claim, an array of the salt and the claim value is contained in the
<code>_sd</code> object.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">Again, the SD-JWT-R follows the same structure as the <code>_sd</code> in the SD-JWT. For Example 2, a SD-JWT-R limiting <code>address</code> to <code>region</code> and <code>country</code> only could look as follows:<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<div id="example-simple_structured-release-payload">
<div id="section-4.4-5">
<pre class="sourcecode lang-json">{
  "nonce": "2GLC42sKQveCfGfryNRN9w",
  "aud": "https://example.com/verifier",
  "_sd": {
    "given_name": "[\"6Ij7tM-a5iVPGboS5tmvVA\", \"John\"]",
    "family_name": "[\"eI8ZWm9QnKPpNPeNenHdhQ\", \"Doe\"]",
    "birthdate": "[\"5bPs1IquZNa0hkaFzzzZNw\", \"1940-01-01\"]",
    "address": {
      "region": "[\"lklxF5jMYlGTPUovMNIvCA\", \"Anystate\"]",
      "country": "[\"nPuoQnkRFq3BIeAm7AnXFA\", \"US\"]"
    }
  }
}
</pre><a href="#section-4.4-5" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.4-6">The SD-JWT-R MAY contain further claims, for example, to ensure a binding
to a concrete transaction (in the example the <code>nonce</code> and <code>aud</code> claims).<a href="#section-4.4-6" class="pilcrow">¶</a></p>
<p id="section-4.4-7">If holder binding is desired, the SD-JWT-R is signed by the holder. If no
holder binding is to be used, the <code>none</code> algorithm is used, i.e., the document
is not signed.<a href="#section-4.4-7" class="pilcrow">¶</a></p>
<p id="section-4.4-8">In any case, the result is encoded as described in <span>[<a href="#RFC7519" class="xref">RFC7519</a>]</span> (here for Example 1):<a href="#section-4.4-8" class="pilcrow">¶</a></p>
<div id="example-simple-release-encoded">
<div class="artwork art-text alignLeft" id="section-4.4-9">
<pre>eyJhbGciOiAiUlMyNTYifQ.eyJub25jZSI6ICIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3Iiw
gImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3ZlcmlmaWVyIiwgIl9zZCI6IHsiZ2l2Z
W5fbmFtZSI6ICJbXCI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBXCIsIFwiSm9oblwiXSIsICJ
mYW1pbHlfbmFtZSI6ICJbXCJlSThaV205UW5LUHBOUGVOZW5IZGhRXCIsIFwiRG9lXCJdI
iwgImFkZHJlc3MiOiAiW1wiUGMzM0pNMkxjaGNVX2xIZ2d2X3VmUVwiLCB7XCJzdHJlZXR
fYWRkcmVzc1wiOiBcIjEyMyBNYWluIFN0XCIsIFwibG9jYWxpdHlcIjogXCJBbnl0b3duX
CIsIFwicmVnaW9uXCI6IFwiQW55c3RhdGVcIiwgXCJjb3VudHJ5XCI6IFwiVVNcIn1dIn1
9.Z6l-sUfifRth6djDqvHng4Zm1TNkKGiQqC5P_5Nn0pSo5dMaClpheNcNAPiPSf39A0jB
8HBFceUQ_dmfTxi1U4NGFxbp-gTB00rPCY_RzCR3J-jgGmilYGLt4g2D6BV1YuLmFLBgT_
IW6GR5mq_RJYK6AANYrVbVPmBbMTfrYT9SAsDkKKWXWz4i0gScLhmz4yi7FoNsvGtgb7WM
tlHN86eJDtuayGHr8aCr95EAaUnuMbcT_WzGc_ifhzDBLJ4U0MVNlfiyk9Fd8OgnwC11cE
3QE3kKDUeQcNAAo81K_sCt-_AwvhMzSj1OK81L4frekUkfomzrCGbdVSCbXLCfEg
</pre><a href="#section-4.4-9" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.4-10">(Line breaks for presentation only.)<a href="#section-4.4-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="presentation-format">
<section id="section-4.5">
        <h3 id="name-presentation-format">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-presentation-format" class="section-name selfRef">Presentation Format</a>
        </h3>
<p id="section-4.5-1">The SD-JWT and the SD-JWT-R can be combined into one document using <code>.</code> as a separator (here for Example 1):<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<div id="example-simple-release-combined">
<div class="artwork art-text alignLeft" id="section-4.5-2">
<pre>eyJhbGciOiAiUlMyNTYifQ.eyJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1ZXI
iLCAic3ViX2p3ayI6IHsia3R5IjogIlJTQSIsICJuIjogInRYMnhjV3ZqQWtMbDV1TjVnY
VREZURWRnBldk9jTmpqUE0tcnlDV0tqYlVvaDVueURFYUZwcXZ2M1dEZUd3V2VCak1YZWQ
0aHRvdlItM2ZKeVc1UzBkX3RVV2NkRW1TR2VxcmNVbmI4QzcxVlVfcENRWUQ2TUg5WWpSQ
210M1JqbnVGZUhaaUp5bWJnVDhoN2NWTDBpdlRYN3FMOWZ0TUNONUpSb05ZRjVETUdCWGx
2Q2dMQ0dJYmRLNy10a1B5aGRlR2dzRkphX2FNNGZ0NVNSU3NxenJQNzZ2eXY1NVZ4UE1tR
G9HSnJBSm4zOEhsa3FvSUVYaGpqTWgwRUFDdUM4SFhNOVh3b3Z0T3FlWEFPNEdnSndLRXd
XZ3lwYTVRd3FSZUhvUUljVVlxWVRKQ3dpa3J6a2h2dElscUlka1NSS1VTWC1BOWdqdFFfR
S1neXQ5M05HUSIsICJlIjogIkFRQUIifSwgImlhdCI6IDE1MTYyMzkwMjIsICJleHAiOiA
xNTE2MjQ3MDIyLCAiX3NkIjogeyJzdWIiOiAiTGJuaGtPcjVvUzdLamVVcnhlekF1OFRHM
ENwV3owalNpeHk2dGZmdW8wNCIsICJnaXZlbl9uYW1lIjogImZVTWRuODhhYW95S1RIcnZ
aZDZBdUxtUHJhR2hQSjB6RjVyX0poeENWWnMiLCAiZmFtaWx5X25hbWUiOiAiOWg1dmd2N
lRwRlY2R21uUHR1Z2lNTGw1dEhldEhlYjVYXzJjS0hqTjdjdyIsICJlbWFpbCI6ICJmUFo
5MmR0WU1DTjJOYi0yYWNfelNIMTlwNHlha1VYclpsXy13U2dhYXpBIiwgInBob25lX251b
WJlciI6ICJRZFNmZnpOenpkMG42ME1zU211aUtqNlk2RW5rMmItQlMtS3RFZVBkZTVNIiw
gImFkZHJlc3MiOiAiSkZ1OTlOVVhQcTU1ZjZERkJaMjJyTWt4TU5IYXlDcmZQRzBGRHNxY
nlEcyIsICJiaXJ0aGRhdGUiOiAiSWExVGM2X1hudDVDSmMyTHRLY3U2V3ZxcjQyZ2xCR0d
jakdPeWU4WmYzVSJ9fQ.IS4oc1f3XuxhNSnecIXbpT-3ZVwgbjpMSfpyqhFUEE2T_ij3uW
Bqb1_zn0nLvIvXDs8rn6l10ilHwCgpMaPmYAE8_nfZtNwvfAFnwBFjzdrJOJWhZ5dp6UJe
VULOZvjsCw1EpyRbBgIyZ9QiLzRJ_5JS1C1AelDDyXxI3FZYYc3-1MqQMnaXR7AWOct698
t-LsookAA_LxXx-RYKG1wygEp9e9BzgCxQugsdGejMPTZyfaQewGrJalQm8bYvSXKcJ1DG
-T297kFEV_VTaeLCOoan1DS1DtaH48Q13yUUmdwil8jqjpVgf_lU0A7dO4AYmojgvdng-c
MLWSp5YtL_Gw.eyJhbGciOiAiUlMyNTYifQ.eyJub25jZSI6ICIyR0xDNDJzS1F2ZUNmR2
ZyeU5STjl3IiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3ZlcmlmaWVyIiwgIl9z
ZCI6IHsiZ2l2ZW5fbmFtZSI6ICJbXCI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBXCIsIFwiSm
9oblwiXSIsICJmYW1pbHlfbmFtZSI6ICJbXCJlSThaV205UW5LUHBOUGVOZW5IZGhRXCIs
IFwiRG9lXCJdIiwgImFkZHJlc3MiOiAiW1wiUGMzM0pNMkxjaGNVX2xIZ2d2X3VmUVwiLC
B7XCJzdHJlZXRfYWRkcmVzc1wiOiBcIjEyMyBNYWluIFN0XCIsIFwibG9jYWxpdHlcIjog
XCJBbnl0b3duXCIsIFwicmVnaW9uXCI6IFwiQW55c3RhdGVcIiwgXCJjb3VudHJ5XCI6IF
wiVVNcIn1dIn19.Z6l-sUfifRth6djDqvHng4Zm1TNkKGiQqC5P_5Nn0pSo5dMaClpheNc
NAPiPSf39A0jB8HBFceUQ_dmfTxi1U4NGFxbp-gTB00rPCY_RzCR3J-jgGmilYGLt4g2D6
BV1YuLmFLBgT_IW6GR5mq_RJYK6AANYrVbVPmBbMTfrYT9SAsDkKKWXWz4i0gScLhmz4yi
7FoNsvGtgb7WMtlHN86eJDtuayGHr8aCr95EAaUnuMbcT_WzGc_ifhzDBLJ4U0MVNlfiyk
9Fd8OgnwC11cE3QE3kKDUeQcNAAo81K_sCt-_AwvhMzSj1OK81L4frekUkfomzrCGbdVSC
bXLCfEg
</pre><a href="#section-4.5-2" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4.5-3">(Line breaks for presentation only.)<a href="#section-4.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="verification">
<section id="section-5">
      <h2 id="name-verification">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-verification" class="section-name selfRef">Verification</a>
      </h2>
<p id="section-5-1">Verifiers MUST follow <span>[<a href="#RFC8725" class="xref">RFC8725</a>]</span> for checking the SD-JWT and, if signed, the
SD-JWT Release.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Verifiers MUST go through (at least) the following steps before
trusting/using any of the contents of an SD-JWT:<a href="#section-5-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3">
        <li id="section-5-3.1">
          <p id="section-5-3.1.1">Determine if holder binding is to be checked for the SD-JWT. Refer to <a href="#holder_binding_security" class="xref">Section 6.1</a> for details.<a href="#section-5-3.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.2">
          <p id="section-5-3.2.1">Check that the presentation consists of six <code>.</code>-separated elements; if holder binding is not required, the last element can be empty.<a href="#section-5-3.2.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.3">
          <p id="section-5-3.3.1">Separate the SD-JWT from the SD-JWT Release.<a href="#section-5-3.3.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.4">
          <p id="section-5-3.4.1">Validate the SD-JWT:<a href="#section-5-3.4.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3.4.2">
            <li id="section-5-3.4.2.1">
              <p id="section-5-3.4.2.1.1">Ensure that a signing algorithm was used that was deemed secure for the application. Refer to <span>[<a href="#RFC8725" class="xref">RFC8725</a>]</span>, Sections 3.1 and 3.2 for details.<a href="#section-5-3.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.4.2.2">
              <p id="section-5-3.4.2.2.1">Validate the signature over the SD-JWT.<a href="#section-5-3.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.4.2.3">
              <p id="section-5-3.4.2.3.1">Validate the issuer of the SD-JWT and that the signing key belongs to this issuer.<a href="#section-5-3.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.4.2.4">
              <p id="section-5-3.4.2.4.1">Check that the SD-JWT is valid using <code>nbf</code>, <code>iat</code>, and <code>exp</code> claims, if provided in the SD-JWT.<a href="#section-5-3.4.2.4.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.4.2.5">
              <p id="section-5-3.4.2.5.1">Check that the claim <code>_sd</code> is present in the SD-JWT.<a href="#section-5-3.4.2.5.1" class="pilcrow">¶</a></p>
</li>
</ol>
</li>
<li id="section-5-3.5">
          <p id="section-5-3.5.1">Validate the SD-JWT Release:<a href="#section-5-3.5.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3.5.2">
            <li id="section-5-3.5.2.1">
              <p id="section-5-3.5.2.1.1">If holder binding is required, validate the signature over the SD-JWT using the same steps as for the SD-JWT plus the following steps:<a href="#section-5-3.5.2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3.5.2.1.2">
                <li id="section-5-3.5.2.1.2.1">
                  <p id="section-5-3.5.2.1.2.1.1">Determine that the public key for the private key that used to sign the SD-JWT-R is bound to the SD-JWT, i.e., the SD-JWT either contains a reference to the public key or contains the public key itself.<a href="#section-5-3.5.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.5.2.1.2.2">
                  <p id="section-5-3.5.2.1.2.2.1">Determine that the SD-JWT-R is bound to the current transaction and was created for this verifier (replay protection). This is usually achieved by a <code>nonce</code> and <code>aud</code> field within the SD-JWT Release.<a href="#section-5-3.5.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
</ol>
</li>
<li id="section-5-3.5.2.2">
              <p id="section-5-3.5.2.2.1">For each claim in the SD-JWT Release:<a href="#section-5-3.5.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5-3.5.2.2.2">
                <li id="section-5-3.5.2.2.2.1">
                  <p id="section-5-3.5.2.2.2.1.1">Ensure that the claim is present as well in <code>_sd</code> in the SD-JWT.
If <code>_sd</code> is structured, the claim MUST be present at the same
place within the structure.<a href="#section-5-3.5.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.5.2.2.2.2">
                  <p id="section-5-3.5.2.2.2.2.1">Check that the base64url-encoded hash of the claim value in the SD-JWT-R
(which includes the salt and the actual claim value) matches
the hash provided in the SD-JWT.<a href="#section-5-3.5.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.5.2.2.2.3">
                  <p id="section-5-3.5.2.2.2.3.1">Ensure that the claim value in the SD-JWT-R is a JSON-encoded
array of exactly two values.<a href="#section-5-3.5.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
<li id="section-5-3.5.2.2.2.4">
                  <p id="section-5-3.5.2.2.2.4.1">Store the second of the two values.<a href="#section-5-3.5.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
</ol>
</li>
<li id="section-5-3.5.2.3">
              <p id="section-5-3.5.2.3.1">Once all necessary claims have been verified, their values can be
validated and used according to the requirements of the application. It
MUST be ensured that all claims required for the application have been
released.<a href="#section-5-3.5.2.3.1" class="pilcrow">¶</a></p>
</li>
</ol>
</li>
</ol>
<p id="section-5-4">If any step fails, the input is not valid and processing MUST be aborted.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security_considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">For the security of this scheme, the following properties are required of the hash function:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-6-2.1">
          <p id="section-6-2.1.1">Given a claim value, a salt, and the resulting hash, it is hard to find a second salt value so that HASH(salt | claim_value) equals the hash.<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-6-3">Add: The Salts must be random/long enough so that the attacker cannot brute force them.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">Note: No need for the wallet-generated hashes? to prevent issuer-verifier collusion<a href="#section-6-4" class="pilcrow">¶</a></p>
<div id="holder_binding_security">
<section id="section-6.1">
        <h3 id="name-holder-binding-2">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-holder-binding-2" class="section-name selfRef">Holder Binding</a>
      </h3>
</section>
</div>
</section>
</div>
<div id="privacy_considerations">
<section id="section-7">
      <h2 id="name-privacy-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<div id="claim-names">
<section id="section-7.1">
        <h3 id="name-claim-names">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-claim-names" class="section-name selfRef">Claim Names</a>
        </h3>
<p id="section-7.1-1">Claim names are not hashed in the SD-JWT and are used as keys in a key-value pair, where the value is the hash.
This is because SD-JWT already reveals information about the issuer and the schema,
and revealing the claim names does not provide any additional information.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">We would like to thank ...<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana_considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">TBD<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-normative-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC8174">[RFC8174]</dt>
<dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dt id="RFC7519">[RFC7519]</dt>
<dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, and N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dt id="RFC7515">[RFC7515]</dt>
<dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, and N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7515">https://www.rfc-editor.org/info/rfc7515</a>&gt;</span>. </dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-11">
      <h2 id="name-informative-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="OIDC">[OIDC]</dt>
<dd>
<span class="refAuthor">Sakimura, N.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, Jones, M.</span><span class="refAuthor">, de Medeiros, B.</span><span class="refAuthor">, and C. Mortimore</span>, <span class="refTitle">"OpenID Connect Core 1.0 incorporating errata set 1"</span>, <time datetime="2014-11-08">8 November 2014</time>, <span>&lt;<a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a>&gt;</span>. </dd>
<dt id="RFC8725">[RFC8725]</dt>
<dd>
<span class="refAuthor">Sheffer, Y.</span><span class="refAuthor">, Hardt, D.</span><span class="refAuthor">, and M. Jones</span>, <span class="refTitle">"JSON Web Token Best Current Practices"</span>, <span class="seriesInfo">BCP 225</span>, <span class="seriesInfo">RFC 8725</span>, <span class="seriesInfo">DOI 10.17487/RFC8725</span>, <time datetime="2020-02">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8725">https://www.rfc-editor.org/info/rfc8725</a>&gt;</span>. </dd>
</dl>
</section>
<div id="additional-examples">
<section id="section-appendix.a">
      <h2 id="name-additional-examples">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-additional-examples" class="section-name selfRef">Additional Examples</a>
      </h2>
<div id="example-3-complex-structured-sd-jwt">
<section id="section-a.1">
        <h2 id="name-example-3-complex-structure">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-example-3-complex-structure" class="section-name selfRef">Example 3 - Complex Structured SD-JWT</a>
        </h2>
<p id="section-a.1-1">In this example, a complex object such as those used for ekyc (todo reference) is used.<a href="#section-a.1-1" class="pilcrow">¶</a></p>
<p id="section-a.1-2">These claims are the payload of the SD-JWT:<a href="#section-a.1-2" class="pilcrow">¶</a></p>
<div id="example-complex_structured-sd-jwt-claims">
<div id="section-a.1-3">
<pre class="sourcecode lang-json">{
  "verified_claims": {
    "verification": {
      "trust_framework": "de_aml",
      "time": "2012-04-23T18:25Z",
      "verification_process": "f24c6f-6d3f-4ec5-973e-b0d8506f3bc7",
      "evidence": [
        {
          "type": "document",
          "method": "pipp",
          "time": "2012-04-22T11:30Z",
          "document": {
            "type": "idcard",
            "issuer": {
              "name": "Stadt Augsburg",
              "country": "DE"
            },
            "number": "53554554",
            "date_of_issuance": "2010-03-23",
            "date_of_expiry": "2020-03-22"
          }
        }
      ]
    },
    "claims": {
      "given_name": "Max",
      "family_name": "Meier",
      "birthdate": "1956-01-28",
      "place_of_birth": {
        "country": "DE",
        "locality": "Musterstadt"
      },
      "nationalities": [
        "DE"
      ],
      "address": {
        "locality": "Maxstadt",
        "postal_code": "12344",
        "country": "DE",
        "street_address": "An der Weide 22"
      }
    }
  },
  "birth_middle_name": "Timotheus",
  "salutation": "Dr.",
  "msisdn": "49123456789"
}
</pre><a href="#section-a.1-3" class="pilcrow">¶</a>
</div>
</div>
<p id="section-a.1-4">The following shows the resulting SD-JWT payload:<a href="#section-a.1-4" class="pilcrow">¶</a></p>
<div id="example-complex_structured-sd-jwt-payload">
<div id="section-a.1-5">
<pre class="sourcecode lang-json">{
  "iss": "https://example.com/issuer",
  "sub_jwk": {
    "kty": "RSA",
    "n": "0pyGviWMy34jiHS6a9wGP5uuHO2Y7CRwbaJ0GwmsXb7BJv1ZBzB06NruBfXFs7P_e9Imsr-SfH_IgYxw5RBJCQzdztgwHxIgH86R-Cm_q9K3k0SqYH7jDYvvVELqvU5V0l1Ve9qu9Z3mT2gy9zyH0cbLK_wOoEy4KIMnyR6Oy88cgU769MXmDe2tqUqRozfXYEvZ4jaDsbWBC5I7p8R9nYXqZYSK5SXEqUxDDH-h6VyiY1m7CWFuNZ09bk2A5xCTXjZVQYANjhkBr4m9urunuUsCjQEEv0kFnPBFbG8y5-76PWwIjs1okBK7-LR5rGihXZydIXsNBwo0RrQqZFetsw",
    "e": "AQAB"
  },
  "iat": 1516239022,
  "exp": 1516247022,
  "_sd": {
    "verified_claims": {
      "verification": {
        "trust_framework": "UI-SRNlQFy-YEFE46yyHKqc64jmM65q8ma9cq2V_erY",
        "time": "jI-FYlteydXzsjRIrXBZs9foBSNF1Od1Q-4XnuqpgjI",
        "verification_process": "F979I7b5ZhADtyYMlYxctdc9-IalD_Td0HpfcFBzVXs",
        "evidence": [
          {
            "type": "i2w3mrKAQV2nhTa5c2koZ-aQTBDoSaVfvYk7aLQianc",
            "method": "fEQ0tVPD67GfO30h_SRs8ZPbnZ_vwEt5S8lUOR77va0",
            "time": "9jueDP5r0gTB64DqdCZbek3yaS5AJJnW8FEkWtPTaOk",
            "document": {
              "type": "K-rZQk89w89YBhjUNUho07suLxhG8Sl2JTPAcoAJB34",
              "issuer": {
                "name": "BkCULCU-txVGvzNqnWe5DxefFvJE8LMib8GV3I3WO90",
                "country": "DSyF5TtmYgLk92u4GkDQzSdFbvIbw5rkFjzSsJJsyw4"
              },
              "number": "epH3OuU51TBelOE4PX6ueHwr1ZtoUjzG-7pZjIAsXg8",
              "date_of_issuance": "cVvqTueVq6OWz-dJj2cdo19A0Ajj859eGDzDfwPYyN4",
              "date_of_expiry": "nxJBNdtwvb2TKKJNGvF6_1ywEdKrotj66C88WPomLfo"
            }
          }
        ]
      },
      "claims": {
        "given_name": "y9uFPHAVqNAZ7PJyk1-1yQJZZWZzKGP5FLt9txKM84M",
        "family_name": "XyUikY8V8MWeBfXUOp8gI7F7-yC28Jr5IyDgvBxXzd4",
        "birthdate": "7GlieMLJhM78C_uQQp9wUXSZLeqBN1YGQT87BIubyKU",
        "place_of_birth": {
          "country": "RN3xcnLYX_GDhVwfPvtisuLPfi0d74zqihFbQrd_UG0",
          "locality": "iNkpWqJ9kIZQq95dzSyEZjbPJs6Fqu7GFBKouEC3OxE"
        },
        "nationalities": "-tinYGK0GXnkfARxiNIWq0VnzNRl-Kv3KY3m5g5Femg",
        "address": "63EzPV0yvTpeOgV34yCwweCvO-2wxts2Wqbja_SuwPQ"
      }
    },
    "birth_middle_name": "vM68I6XnrVlyt1LxK9xxgFycsjtw2vLdGpNgk3E8QQ4",
    "salutation": "iThfCu2ulLoe5i6gCEq--Y6R-gxHHtIukXb9qnfjH5k",
    "msisdn": "xUpU-azBYdXeJidc8Yw5MXtfPz4_4kArJhflXcxzkzs"
  }
}
</pre><a href="#section-a.1-5" class="pilcrow">¶</a>
</div>
</div>
<p id="section-a.1-6">The SD-JWT is then signed by the issuer to create a document like the following:<a href="#section-a.1-6" class="pilcrow">¶</a></p>
<div id="example-complex_structured-sd-jwt-encoded">
<div class="artwork art-text alignLeft" id="section-a.1-7">
<pre>eyJhbGciOiAiUlMyNTYifQ.eyJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1ZXI
iLCAic3ViX2p3ayI6IHsia3R5IjogIlJTQSIsICJuIjogIjBweUd2aVdNeTM0amlIUzZhO
XdHUDV1dUhPMlk3Q1J3YmFKMEd3bXNYYjdCSnYxWkJ6QjA2TnJ1QmZYRnM3UF9lOUltc3I
tU2ZIX0lnWXh3NVJCSkNRemR6dGd3SHhJZ0g4NlItQ21fcTlLM2swU3FZSDdqRFl2dlZFT
HF2VTVWMGwxVmU5cXU5WjNtVDJneTl6eUgwY2JMS193T29FeTRLSU1ueVI2T3k4OGNnVTc
2OU1YbURlMnRxVXFSb3pmWFlFdlo0amFEc2JXQkM1STdwOFI5bllYcVpZU0s1U1hFcVV4R
ERILWg2VnlpWTFtN0NXRnVOWjA5YmsyQTV4Q1RYalpWUVlBTmpoa0JyNG05dXJ1bnVVc0N
qUUVFdjBrRm5QQkZiRzh5NS03NlBXd0lqczFva0JLNy1MUjVyR2loWFp5ZElYc05Cd28wU
nJRcVpGZXRzdyIsICJlIjogIkFRQUIifSwgImlhdCI6IDE1MTYyMzkwMjIsICJleHAiOiA
xNTE2MjQ3MDIyLCAiX3NkIjogeyJ2ZXJpZmllZF9jbGFpbXMiOiB7InZlcmlmaWNhdGlvb
iI6IHsidHJ1c3RfZnJhbWV3b3JrIjogIlVJLVNSTmxRRnktWUVGRTQ2eXlIS3FjNjRqbU0
2NXE4bWE5Y3EyVl9lclkiLCAidGltZSI6ICJqSS1GWWx0ZXlkWHpzalJJclhCWnM5Zm9CU
05GMU9kMVEtNFhudXFwZ2pJIiwgInZlcmlmaWNhdGlvbl9wcm9jZXNzIjogIkY5NzlJN2I
1WmhBRHR5WU1sWXhjdGRjOS1JYWxEX1RkMEhwZmNGQnpWWHMiLCAiZXZpZGVuY2UiOiBbe
yJ0eXBlIjogImkydzNtcktBUVYybmhUYTVjMmtvWi1hUVRCRG9TYVZmdllrN2FMUWlhbmM
iLCAibWV0aG9kIjogImZFUTB0VlBENjdHZk8zMGhfU1JzOFpQYm5aX3Z3RXQ1UzhsVU9SN
zd2YTAiLCAidGltZSI6ICI5anVlRFA1cjBnVEI2NERxZENaYmVrM3lhUzVBSkpuVzhGRWt
XdFBUYU9rIiwgImRvY3VtZW50IjogeyJ0eXBlIjogIkstclpRazg5dzg5WUJoalVOVWhvM
DdzdUx4aEc4U2wySlRQQWNvQUpCMzQiLCAiaXNzdWVyIjogeyJuYW1lIjogIkJrQ1VMQ1U
tdHhWR3Z6TnFuV2U1RHhlZkZ2SkU4TE1pYjhHVjNJM1dPOTAiLCAiY291bnRyeSI6ICJEU
3lGNVR0bVlnTGs5MnU0R2tEUXpTZEZidklidzVya0ZqelNzSkpzeXc0In0sICJudW1iZXI
iOiAiZXBIM091VTUxVEJlbE9FNFBYNnVlSHdyMVp0b1VqekctN3BaaklBc1hnOCIsICJkY
XRlX29mX2lzc3VhbmNlIjogImNWdnFUdWVWcTZPV3otZEpqMmNkbzE5QTBBamo4NTllR0R
6RGZ3UFl5TjQiLCAiZGF0ZV9vZl9leHBpcnkiOiAibnhKQk5kdHd2YjJUS0tKTkd2RjZfM
Xl3RWRLcm90ajY2Qzg4V1BvbUxmbyJ9fV19LCAiY2xhaW1zIjogeyJnaXZlbl9uYW1lIjo
gInk5dUZQSEFWcU5BWjdQSnlrMS0xeVFKWlpXWnpLR1A1Rkx0OXR4S004NE0iLCAiZmFta
Wx5X25hbWUiOiAiWHlVaWtZOFY4TVdlQmZYVU9wOGdJN0Y3LXlDMjhKcjVJeURndkJ4WHp
kNCIsICJiaXJ0aGRhdGUiOiAiN0dsaWVNTEpoTTc4Q191UVFwOXdVWFNaTGVxQk4xWUdRV
Dg3Qkl1YnlLVSIsICJwbGFjZV9vZl9iaXJ0aCI6IHsiY291bnRyeSI6ICJSTjN4Y25MWVh
fR0RoVndmUHZ0aXN1TFBmaTBkNzR6cWloRmJRcmRfVUcwIiwgImxvY2FsaXR5IjogImlOa
3BXcUo5a0laUXE5NWR6U3lFWmpiUEpzNkZxdTdHRkJLb3VFQzNPeEUifSwgIm5hdGlvbmF
saXRpZXMiOiAiLXRpbllHSzBHWG5rZkFSeGlOSVdxMFZuek5SbC1LdjNLWTNtNWc1RmVtZ
yIsICJhZGRyZXNzIjogIjYzRXpQVjB5dlRwZU9nVjM0eUN3d2VDdk8tMnd4dHMyV3FiamF
fU3V3UFEifX0sICJiaXJ0aF9taWRkbGVfbmFtZSI6ICJ2TTY4STZYbnJWbHl0MUx4Szl4e
GdGeWNzanR3MnZMZEdwTmdrM0U4UVE0IiwgInNhbHV0YXRpb24iOiAiaVRoZkN1MnVsTG9
lNWk2Z0NFcS0tWTZSLWd4SEh0SXVrWGI5cW5makg1ayIsICJtc2lzZG4iOiAieFVwVS1he
kJZZFhlSmlkYzhZdzVNWHRmUHo0XzRrQXJKaGZsWGN4emt6cyJ9fQ.f6w58KAyROyRM6Kd
lyweJCL5uIOJGDTIFaOP0gSEaPMqSliXdAs3XAmZWTZNwZQDNTyDGJwXlI0VusbLfzzaUU
2NBq1YGCi8o4p91vgqizJa7GD7nl1-BiAEm1bDl5SOoh_Zm3DlmHUncruNECLsV8t7VfNL
Zod1SgJ9Ia1F_B6vPovcAxVtRa1cQUkpiQsjwdkYA5MM-SCvOSR7aNM71HHScvZ6hapLpa
ZSXXGt0s-rjhYX-3fI7ZCRK_n0ElIXev2Lv7qd8xYCpcaYUgkzi1gQ1PRv7DT4_VnWsjk7
XwnRgwwPfXkkEdBLIhB3TDWtxGT5ZPBgoffgxHKxXyn3dQ.ewogICAgIl9zZCI6IHsKICA
gICAgICAidmVyaWZpZWRfY2xhaW1zIjogewogICAgICAgICAgICAidmVyaWZpY2F0aW9uI
jogewogICAgICAgICAgICAgICAgInRydXN0X2ZyYW1ld29yayI6ICJbXCJlbHVWNU9nM2d
TTklJOEVZbnN4QV9BXCIsIFwiZGVfYW1sXCJdIiwKICAgICAgICAgICAgICAgICJ0aW1lI
jogIltcIjZJajd0TS1hNWlWUEdib1M1dG12VkFcIiwgXCIyMDEyLTA0LTIzVDE4OjI1Wlw
iXSIsCiAgICAgICAgICAgICAgICAidmVyaWZpY2F0aW9uX3Byb2Nlc3MiOiAiW1wiZUk4W
ldtOVFuS1BwTlBlTmVuSGRoUVwiLCBcImYyNGM2Zi02ZDNmLTRlYzUtOTczZS1iMGQ4NTA
2ZjNiYzdcIl0iLAogICAgICAgICAgICAgICAgImV2aWRlbmNlIjogWwogICAgICAgICAgI
CAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiW1wiUWdfTzY
0enFBeGU0MTJhMTA4aXJvQVwiLCBcImRvY3VtZW50XCJdIiwKICAgICAgICAgICAgICAgI
CAgICAgICAgIm1ldGhvZCI6ICJbXCJBSngtMDk1VlBycFR0TjRRTU9xUk9BXCIsIFwicGl
wcFwiXSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ0aW1lIjogIltcIlBjMzNKTTJMY
2hjVV9sSGdndl91ZlFcIiwgXCIyMDEyLTA0LTIyVDExOjMwWlwiXSIsCiAgICAgICAgICA
gICAgICAgICAgICAgICJkb2N1bWVudCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgI
CAgICJ0eXBlIjogIltcIkcwMk5TclFmakZYUTdJbzA5c3lhakFcIiwgXCJpZGNhcmRcIl0
iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImlzc3VlciI6IHsKICAgICAgICAgI
CAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJbXCJsa2x4RjVqTVlsR1RQVW92TU5
JdkNBXCIsIFwiU3RhZHQgQXVnc2J1cmdcIl0iLAogICAgICAgICAgICAgICAgICAgICAgI
CAgICAgICAgICJjb3VudHJ5IjogIltcIm5QdW9RbmtSRnEzQkllQW03QW5YRkFcIiwgXCJ
ERVwiXSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgI
CAgICAgICAgICAgICAibnVtYmVyIjogIltcIjViUHMxSXF1Wk5hMGhrYUZ6enpaTndcIiw
gXCI1MzU1NDU1NFwiXSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0ZV9vZ
l9pc3N1YW5jZSI6ICJbXCI1YTJXMF9OcmxFWnpmcW1rXzdQcS13XCIsIFwiMjAxMC0wMy0
yM1wiXSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGF0ZV9vZl9leHBpcnkiO
iAiW1wieTFzVlU1d2RmSmFoVmRnd1BnUzdSUVwiLCBcIjIwMjAtMDMtMjJcIl0iCiAgICA
gICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgI
CAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJjbGFpbXMiOiB7CiAgICA
gICAgICAgICAgICAiZ2l2ZW5fbmFtZSI6ICJbXCJIYlE0WDhzclZXM1FEeG5JSmRxeU9BX
CIsIFwiTWF4XCJdIiwKICAgICAgICAgICAgICAgICJmYW1pbHlfbmFtZSI6ICJbXCJDOUd
Tb3VqdmlKcXVFZ1lmb2pDYjFBXCIsIFwiTWVpZXJcIl0iLAogICAgICAgICAgICAgICAgI
mJpcnRoZGF0ZSI6ICJbXCJreDVrRjE3Vi14MEptd1V4OXZndnR3XCIsIFwiMTk1Ni0wMS0
yOFwiXSIsCiAgICAgICAgICAgICAgICAicGxhY2Vfb2ZfYmlydGgiOiB7CiAgICAgICAgI
CAgICAgICAgICAgImNvdW50cnkiOiAiW1wiSDNvMXVzd1A3NjBGaTJ5ZUdkVkNFUVwiLCB
cIkRFXCJdIiwKICAgICAgICAgICAgICAgICAgICAibG9jYWxpdHkiOiAiW1wiT0JLbFRWb
HZMZy1BZHdxWUdiUDhaQVwiLCBcIk11c3RlcnN0YWR0XCJdIgogICAgICAgICAgICAgICA
gfSwKICAgICAgICAgICAgICAgICJuYXRpb25hbGl0aWVzIjogIltcIk0wSmI1N3Q0MXVic
mtTdXlyRFQzeEFcIiwgW1wiREVcIl1dIiwKICAgICAgICAgICAgICAgICJhZGRyZXNzIjo
gIltcIkRzbXRLTmdwVjRkQUhwanJjYW9zQXdcIiwge1wibG9jYWxpdHlcIjogXCJNYXhzd
GFkdFwiLCBcInBvc3RhbF9jb2RlXCI6IFwiMTIzNDRcIiwgXCJjb3VudHJ5XCI6IFwiREV
cIiwgXCJzdHJlZXRfYWRkcmVzc1wiOiBcIkFuIGRlciBXZWlkZSAyMlwifV0iCiAgICAgI
CAgICAgIH0KICAgICAgICB9LAogICAgICAgICJiaXJ0aF9taWRkbGVfbmFtZSI6ICJbXCJ
lSzVvNXBIZmd1cFBwbHRqMXFoQUp3XCIsIFwiVGltb3RoZXVzXCJdIiwKICAgICAgICAic
2FsdXRhdGlvbiI6ICJbXCJqN0FEZGIwVVZiMExpMGNpUGNQMGV3XCIsIFwiRHIuXCJdIiw
KICAgICAgICAibXNpc2RuIjogIltcIldweEpyRnVYOHVTaTJwNGh0MDlqdndcIiwgXCI0O
TEyMzQ1Njc4OVwiXSIKICAgIH0KfQ
</pre><a href="#section-a.1-7" class="pilcrow">¶</a>
</div>
</div>
<p id="section-a.1-8">(Line breaks for presentation only.)<a href="#section-a.1-8" class="pilcrow">¶</a></p>
<p id="section-a.1-9">A SD-JWT-R for some of the claims:<a href="#section-a.1-9" class="pilcrow">¶</a></p>
<div id="example-complex_structured-release-payload">
<div id="section-a.1-10">
<pre class="sourcecode lang-json">{
  "nonce": "2GLC42sKQveCfGfryNRN9w",
  "aud": "https://example.com/verifier",
  "_sd": {
    "verified_claims": {
      "verification": {
        "trust_framework": "[\"eluV5Og3gSNII8EYnsxA_A\", \"de_aml\"]",
        "time": "[\"6Ij7tM-a5iVPGboS5tmvVA\", \"2012-04-23T18:25Z\"]",
        "evidence": [
          {
            "type": "[\"Qg_O64zqAxe412a108iroA\", \"document\"]"
          }
        ]
      },
      "claims": {
        "given_name": "[\"HbQ4X8srVW3QDxnIJdqyOA\", \"Max\"]",
        "family_name": "[\"C9GSoujviJquEgYfojCb1A\", \"Meier\"]",
        "birthdate": "[\"kx5kF17V-x0JmwUx9vgvtw\", \"1956-01-28\"]",
        "place_of_birth": {
          "country": "[\"H3o1uswP760Fi2yeGdVCEQ\", \"DE\"]"
        }
      }
    }
  }
}
</pre><a href="#section-a.1-10" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
<div id="document-history">
<section id="section-appendix.b">
      <h2 id="name-document-history">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-document-history" class="section-name selfRef">Document History</a>
      </h2>
<p id="section-appendix.b-1">[[ To be removed from the final specification ]]<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
<p id="section-appendix.b-2">-00<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.b-3.1">
          <p id="section-appendix.b-3.1.1">Renamed to SD-JWT (focus on JWT instead of JWS since signature is optional)<a href="#section-appendix.b-3.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.2">
          <p id="section-appendix.b-3.2.1">Make holder binding optional<a href="#section-appendix.b-3.2.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.3">
          <p id="section-appendix.b-3.3.1">Rename proof to release, since when there is no signature, the term "proof" can be misleading<a href="#section-appendix.b-3.3.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.4">
          <p id="section-appendix.b-3.4.1">Improved the structure of the description<a href="#section-appendix.b-3.4.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.5">
          <p id="section-appendix.b-3.5.1">Described verification steps<a href="#section-appendix.b-3.5.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.6">
          <p id="section-appendix.b-3.6.1">All examples generated from python demo implementation<a href="#section-appendix.b-3.6.1" class="pilcrow">¶</a></p>
</li>
<li id="section-appendix.b-3.7">
          <p id="section-appendix.b-3.7.1">Examples for structured objects<a href="#section-appendix.b-3.7.1" class="pilcrow">¶</a></p>
</li>
</ul>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Daniel Fett</span></div>
<div dir="auto" class="left"><span class="org">yes.com</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mail@danielfett.de" class="email">mail@danielfett.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://danielfett.de/" class="url">https://danielfett.de/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kristina Yasuda</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Kristina.Yasuda@microsoft.com" class="email">Kristina.Yasuda@microsoft.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
